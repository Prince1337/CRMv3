import{a as A}from"./chunk-562UQ2XR.js";import{L as a,Q as u,Sb as E,Tb as c}from"./chunk-ZEIBLRTY.js";var e=function(r){return r.ACTIVE="ACTIVE",r.INACTIVE="INACTIVE",r.POTENTIAL="POTENTIAL",r.NEW="NEW",r.CONTACTED="CONTACTED",r.OFFER_CREATED="OFFER_CREATED",r.WON="WON",r.LOST="LOST",r}(e||{}),n=function(r){return r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH",r.VIP="VIP",r}(n||{}),s=function(r){return r.WEBSITE="WEBSITE",r.REFERRAL="REFERRAL",r.TRADE_FAIR="TRADE_FAIR",r.SOCIAL_MEDIA="SOCIAL_MEDIA",r.EMAIL_CAMPAIGN="EMAIL_CAMPAIGN",r.COLD_CALL="COLD_CALL",r.PHONE_CALL="PHONE_CALL",r.LINKEDIN="LINKEDIN",r.PARTNER="PARTNER",r.OTHER="OTHER",r}(s||{});var O=(()=>{class r{constructor(t){this.http=t,this.API_URL=`${A.API_BASE_URL}/customers`}getCustomers(t=0,i=20){let I=new E().set("page",t.toString()).set("size",i.toString());return this.http.get(this.API_URL,{params:I})}getCustomer(t){return this.http.get(`${this.API_URL}/${t}`)}createCustomer(t){return this.http.post(this.API_URL,t)}updateCustomer(t,i){return this.http.put(`${this.API_URL}/${t}`,i)}deleteCustomer(t){return this.http.delete(`${this.API_URL}/${t}`)}searchCustomers(t){return this.http.post(`${this.API_URL}/search`,t)}getCustomersByStatus(t){return this.http.get(`${this.API_URL}/status/${t}`)}changeCustomerStatus(t,i){return this.http.patch(`${this.API_URL}/${t}/status?status=${i}`,{})}markCustomerAsContacted(t){return this.http.patch(`${this.API_URL}/${t}/contact`,{})}assignCustomer(t,i){return this.http.patch(`${this.API_URL}/${t}/assign?userId=${i}`,{})}getPipelineCustomers(){return this.http.get(`${this.API_URL}/pipeline`)}getPipelineCustomersByStatus(t){return this.http.get(`${this.API_URL}/pipeline/${t}`)}changePipelineStatus(t,i){return this.http.patch(`${this.API_URL}/${t}/pipeline-status?newStatus=${i}`,{})}moveToNextPipelineStep(t){return this.http.patch(`${this.API_URL}/${t}/next-pipeline-step`,{})}getPipelineStatistics(){return this.http.get(`${this.API_URL}/pipeline/statistics`)}getCustomerStatistics(){return this.http.get(`${this.API_URL}/statistics`)}getStatusDisplayName(t){switch(t){case e.ACTIVE:return"Aktiv";case e.INACTIVE:return"Inaktiv";case e.POTENTIAL:return"Potenziell";case e.NEW:return"Neu";case e.CONTACTED:return"Kontaktiert";case e.OFFER_CREATED:return"Angebot erstellt";case e.WON:return"Gewonnen";case e.LOST:return"Verloren";default:return t}}getPriorityDisplayName(t){switch(t){case n.LOW:return"Niedrig";case n.MEDIUM:return"Mittel";case n.HIGH:return"Hoch";case n.VIP:return"VIP";default:return t}}getLeadSourceDisplayName(t){switch(t){case s.WEBSITE:return"Website";case s.REFERRAL:return"Empfehlung";case s.TRADE_FAIR:return"Messe";case s.SOCIAL_MEDIA:return"Social Media";case s.EMAIL_CAMPAIGN:return"E-Mail Kampagne";case s.COLD_CALL:return"Kaltakquise";case s.PHONE_CALL:return"Telefonanruf";case s.LINKEDIN:return"LinkedIn";case s.PARTNER:return"Partner";case s.OTHER:return"Sonstiges";default:return t}}getPriorityClass(t){switch(t){case n.LOW:return"priority-low";case n.MEDIUM:return"priority-medium";case n.HIGH:return"priority-high";case n.VIP:return"priority-vip";default:return"priority-medium"}}calculateProbability(t){switch(t){case e.NEW:return 10;case e.CONTACTED:return 25;case e.OFFER_CREATED:return 60;case e.WON:return 100;case e.LOST:return 0;default:return 0}}getNextPipelineStep(t){switch(t){case e.NEW:return e.CONTACTED;case e.CONTACTED:return e.OFFER_CREATED;case e.OFFER_CREATED:return e.WON;default:return null}}getStatusClass(t){switch(t){case e.ACTIVE:return"badge-success";case e.INACTIVE:return"badge-secondary";case e.POTENTIAL:return"badge-warning";case e.NEW:return"badge-info";case e.CONTACTED:return"badge-primary";case e.OFFER_CREATED:return"badge-warning";case e.WON:return"badge-success";case e.LOST:return"badge-danger";default:return"badge-secondary"}}isPipelineStatus(t){return t===e.NEW||t===e.CONTACTED||t===e.OFFER_CREATED||t===e.WON||t===e.LOST}getNextPossibleStatuses(t){switch(t){case e.NEW:return[e.CONTACTED,e.LOST];case e.CONTACTED:return[e.OFFER_CREATED,e.LOST];case e.OFFER_CREATED:return[e.WON,e.LOST];case e.WON:return[e.ACTIVE];case e.LOST:return[e.POTENTIAL];default:return[]}}formatDate(t){return new Date(t).toLocaleDateString("de-DE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}static{this.\u0275fac=function(i){return new(i||r)(u(c))}}static{this.\u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{e as a,n as b,s as c,O as d};
