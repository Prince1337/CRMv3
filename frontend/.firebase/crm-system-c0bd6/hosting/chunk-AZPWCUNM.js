import{a as F}from"./chunk-3AHQD46H.js";import"./chunk-FK6H3RFT.js";import{a as m,b as D}from"./chunk-BSVFCXYB.js";import"./chunk-562UQ2XR.js";import{e as A,h as I}from"./chunk-BYEZXU77.js";import{$a as f,Ia as O,Ib as k,Jb as y,Ka as l,Lb as S,Ma as h,Mb as E,Na as e,Nb as z,Oa as n,Sa as p,Ta as _,Ua as s,W as x,Za as o,ca as g,da as b,gb as w,ib as v,jb as P,lb as M,va as i,wa as C}from"./chunk-ZEIBLRTY.js";import"./chunk-CWTPBX7D.js";var T=r=>["/offers",r];function V(r,u){if(r&1){let t=p();e(0,"button",17),_("click",function(){g(t);let c=s().$implicit,d=s();return b(d.markAsSent(c.id))}),o(1," Versenden "),n()}}function N(r,u){if(r&1){let t=p();e(0,"button",18),_("click",function(){g(t);let c=s().$implicit,d=s();return b(d.markAsPaid(c.id))}),o(1," Als bezahlt markieren "),n()}}function R(r,u){if(r&1){let t=p();e(0,"tr")(1,"td",6),o(2),n(),e(3,"td",7),o(4),n(),e(5,"td",8),o(6),n(),e(7,"td")(8,"span",9),o(9),n()(),e(10,"td",10),o(11),P(12,"currency"),n(),e(13,"td",11),o(14),P(15,"date"),n(),e(16,"td")(17,"div",12)(18,"button",13),o(19," Anzeigen "),n(),O(20,V,2,0,"button",14)(21,N,2,0,"button",15),e(22,"button",16),_("click",function(){let c=g(t).$implicit,d=s();return b(d.downloadPdf(c))}),o(23," \u{1F4C4} PDF "),n()()()()}if(r&2){let t=u.$implicit,a=s();i(2),f(" ",t.offerNumber," "),i(2),f(" ",t.title," "),i(2),f(" ",t.customerName," "),i(2),h(a.getStatusBadgeClass(t.status)),i(),f(" ",t.statusDisplayName," "),i(2),f(" ",M(12,11,t.finalAmount,"EUR")," "),i(3),f(" ",M(15,14,t.createdAt,"short")," "),i(4),l("routerLink",v(17,T,t.id)),i(2),l("ngIf",t.status==="DRAFT"),i(),l("ngIf",t.status==="SENT")}}var L=(()=>{class r{constructor(t,a){this.offerService=t,this.pdfService=a,this.offers=[]}ngOnInit(){this.loadOffers()}loadOffers(){this.offerService.getOffers().subscribe(t=>{this.offers=t.content||t})}markAsSent(t){this.offerService.markAsSent(t).subscribe(()=>{this.loadOffers()})}markAsPaid(t){this.offerService.markAsPaid(t).subscribe(()=>{this.loadOffers()})}downloadPdf(t){this.pdfService.generateOfferPdf(t)}getStatusBadgeClass(t){switch(t){case m.DRAFT:return"status-badge draft";case m.SENT:return"status-badge sent";case m.PAID:return"status-badge paid";case m.OVERDUE:return"status-badge overdue";default:return"status-badge draft"}}static{this.\u0275fac=function(a){return new(a||r)(C(D),C(F))}}static{this.\u0275cmp=x({type:r,selectors:[["app-offer-list"]],standalone:!0,features:[w],decls:26,vars:1,consts:[[1,"offer-list-container"],[1,"list-header"],["routerLink","/offers/new",1,"new-offer-button"],[1,"table-container"],[1,"offer-table"],[4,"ngFor","ngForOf"],[1,"offer-number"],[1,"offer-title"],[1,"customer-name"],[1,"status-badge"],[1,"amount"],[1,"date"],[1,"action-buttons"],[1,"view-button",3,"routerLink"],["class","send-button",3,"click",4,"ngIf"],["class","paid-button",3,"click",4,"ngIf"],[1,"pdf-button",3,"click"],[1,"send-button",3,"click"],[1,"paid-button",3,"click"]],template:function(a,c){a&1&&(e(0,"div",0)(1,"div",1)(2,"h1"),o(3,"Angebote"),n(),e(4,"button",2),o(5," Neues Angebot "),n()(),e(6,"div",3)(7,"table",4)(8,"thead")(9,"tr")(10,"th"),o(11,"Angebotsnummer"),n(),e(12,"th"),o(13,"Titel"),n(),e(14,"th"),o(15,"Kunde"),n(),e(16,"th"),o(17,"Status"),n(),e(18,"th"),o(19,"Betrag"),n(),e(20,"th"),o(21,"Erstellt"),n(),e(22,"th"),o(23,"Aktionen"),n()()(),e(24,"tbody"),O(25,R,24,19,"tr",5),n()()()()),a&2&&(i(25),l("ngForOf",c.offers))},dependencies:[z,k,y,E,S,I,A],styles:[".offer-list-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:1.5rem}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #e5e7eb}.list-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#374151;margin:0}.list-header[_ngcontent-%COMP%]   .new-offer-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#3b82f6;color:#fff;border:none;border-radius:.375rem;font-weight:600;font-size:.875rem;cursor:pointer;transition:all .2s ease;text-decoration:none}.list-header[_ngcontent-%COMP%]   .new-offer-button[_ngcontent-%COMP%]:hover{background-color:#2563eb;transform:translateY(-1px);box-shadow:0 4px 6px #0000001a}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 4px 6px #0000001a;border:1px solid #e5e7eb;overflow:hidden;transition:box-shadow .2s ease}.table-container[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px #0000001a}.offer-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.offer-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f9fafb;border-bottom:1px solid #e5e7eb}.offer-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem 1.5rem;text-align:left;font-size:.75rem;font-weight:600;color:#374151;text-transform:uppercase;letter-spacing:.05em;white-space:nowrap}.offer-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6;transition:background-color .2s ease}.offer-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.offer-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.offer-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:.875rem;color:#374151;vertical-align:middle}.offer-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.offer-number[_ngcontent-%COMP%]{font-weight:600;color:#374151;font-family:Courier New,monospace}.offer-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.offer-title[_ngcontent-%COMP%]{font-weight:500;color:#374151;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.offer-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.customer-name[_ngcontent-%COMP%]{color:#374151;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.offer-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.amount[_ngcontent-%COMP%]{font-weight:600;color:#059669;font-family:Courier New,monospace}.offer-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.date[_ngcontent-%COMP%]{color:#6b7280;font-size:.8rem}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;white-space:nowrap}.status-badge.draft[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.status-badge.sent[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.status-badge.paid[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.status-badge.overdue[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.action-buttons[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{padding:.5rem;border:none;border-radius:.25rem;cursor:pointer;transition:all .2s ease;font-size:.875rem}.action-buttons[_ngcontent-%COMP%]   .action-button.view-button[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.action-buttons[_ngcontent-%COMP%]   .action-button.view-button[_ngcontent-%COMP%]:hover{background:#2563eb}.action-buttons[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.action-buttons[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]:hover{background:#d97706}.action-buttons[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.action-buttons[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]:hover{background:#dc2626}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:#6b7280}.loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;border:3px solid #e5e7eb;border-radius:50%;border-top-color:#3b82f6;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-bottom:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:#6b7280}.error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:#ef4444}.error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#374151;margin-bottom:.5rem}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:1.5rem}.error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#3b82f6;color:#fff;border:none;border-radius:.375rem;font-weight:500;cursor:pointer;transition:all .2s ease}.error-state[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background-color:#2563eb;transform:translateY(-1px)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:#6b7280}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:#9ca3af}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#374151;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   .create-offer-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#3b82f6;color:#fff;border:none;border-radius:.375rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none}.empty-state[_ngcontent-%COMP%]   .create-offer-button[_ngcontent-%COMP%]:hover{background-color:#2563eb;transform:translateY(-1px)}@media (max-width: 768px){.offer-list-container[_ngcontent-%COMP%]{padding:1rem}.list-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.list-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.list-header[_ngcontent-%COMP%]   .new-offer-button[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.75rem}.offer-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;font-size:.65rem}.offer-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}.offer-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.offer-title[_ngcontent-%COMP%]{max-width:120px}.offer-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.customer-name[_ngcontent-%COMP%]{max-width:100px}}"]})}}return r})();var Q=[{path:"",component:L},{path:"new",loadComponent:()=>import("./chunk-TOYRLBLN.js").then(r=>r.OfferFormComponent)},{path:":id",loadComponent:()=>import("./chunk-XENXJEHQ.js").then(r=>r.OfferDetailComponent)}];export{Q as OFFER_ROUTES};
